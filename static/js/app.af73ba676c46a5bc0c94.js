webpackJsonp([2,0],{0:function(t,e,n){n(176),t.exports=n(171)},75:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={randomizeWithinRange:function(t){return Math.floor(Math.random()*t)},randomizeItems:function(t,e){for(var o=[],a=0;a<e;a++){var i=n.randomizeWithinRange(t.length);o.push(t[i])}return o}};e.default=n},113:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=100;e.MAX=n},158:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(409),i=o(a);e.default={data:function(){return{hasStarted:!1}},components:{MainComponent:i.default},methods:{start:function(){this.hasStarted=!0}}}},159:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(59),i=o(a),r=n(58),s=n(75),u=o(s),c=n(404),d=o(c);e.default={name:"consume",props:["item"],computed:(0,i.default)({actions:function t(){var t=["discard"];return"food"!==this.item.type&&"drink"!==this.item.type||t.unshift("consume"),t}},(0,r.mapState)(["disabled"])),methods:{discard:function(t){this.$store.commit("removeInventory",{item:t.id})},doAction:function(t){if("consume"===t){var e="food"===this.item.type?"food":"water",n=this.calculateRisk(this.item.risk);n&&alert("you got sick!"),this.$store.commit("increase",{stat:e,amount:this.item.value})}this.discard(this.item)},calculateRisk:function(t){for(var e=[],n=0;n<10;n++)n<t?e.push(!0):e.push(!1);var o=u.default.randomizeWithinRange(e.length);return e[o]}},components:{popover:d.default}}},160:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(401),i=o(a);e.default={name:"list",props:["list"],components:{consume:i.default}}},161:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal",data:function(){return{visible:!1}},props:{isCloseable:{type:Boolean,default:!0},closeText:{type:String,default:"Ok"}},methods:{open:function(){this.visible=!0},close:function(){this.visible=!1}}}},162:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"popover",props:["list"]}},163:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(59),i=o(a),r=n(58);e.default={name:"stats",data:function(){return{loop:null}},computed:(0,i.default)({},(0,r.mapState)(["stats","gameOver"])),methods:{countdown:function(){var t=this,e=1e4;this.$store.state.gameOver===!1&&(this.loop=setInterval(function(){t.$store.commit("decrease",{stat:"water",amount:3}),t.$store.commit("decrease",{stat:"food",amount:2}),t.$store.commit("decrease",{stat:"sleep",amount:1})},e))},resetCountdown:function(){clearInterval(this.loop),this.loop=null}},mounted:function(){this.countdown()},beforeDestroy:function(){this.resetCountdown()}}},164:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(59),i=o(a),r=n(58),s=n(403),u=o(s);e.default={name:"actions",data:function(){return{lastActionResult:"",currentAction:null,actions:[{name:"Sleep",method:this.sleep},{name:"Hunt",method:this.hunt},{name:"Scavenge",method:this.scavenge}]}},computed:(0,i.default)({},(0,r.mapState)(["disabled","gameOver"])),methods:{sleep:function(){var t=this;this.openStatusModal("Sleeping"),this.$store.dispatch("increase",{stat:"sleep",amount:30,time:5e3}).then(function(){t.handleResult()}).catch(function(){console.error("oops")})},hunt:function(){var t=this,e=this.$store.state.inventory.filter(function(t){return"weapon"===t.type});e.length?(this.openStatusModal("Hunting"),this.lastActionResult="",this.$store.dispatch("hunt",{time:8e3}).then(function(e){t.handleResult(e)})):alert("you need to craft a weapon first")},scavenge:function(){var t=this;this.openStatusModal("Scavenging"),this.lastActionResult="",this.$store.dispatch("scavenge",{time:3e3}).then(function(e){t.handleResult(e)})},openStatusModal:function(t){this.currentAction=t,this.$refs.modalAction.open()},closeStatusModal:function(){this.currentAction=null,this.$refs.modalAction.close()},handleResult:function(t){var e=this;this.closeStatusModal(),t&&!function(){var n=[];t.forEach(function(t){n.push(t.name)}),e.$refs.modalResult.open(),e.lastActionResult=n.join(", ")}()}},components:{modal:u.default}}},165:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(180),i=o(a),r=n(169),s=o(r),u=n(168),c=o(u);e.default={name:"crafting",computed:{craftableItems:function(){var t=this;c.default.forEach(function(t){t.condition="fire"});var e=[].concat((0,i.default)(s.default),(0,i.default)(c.default));return e.forEach(function(e){var n=[],o=t.$store.state.inventory.map(function(t){return t.id});e.items.forEach(function(t){var a=o.indexOf(t);a!==-1?(o.splice(a,1),n.push(t)):e.isCraftable=!1}),n.length===e.items.length&&(e.isCraftable=!0,"fire"!==e.condition||t.$store.state.fire||(e.isCraftable=!1))}),e},foodItems:function(){return this.craftableItems.filter(function(t){return"food"===t.type})},tools:function(){return this.craftableItems.filter(function(t){return"tool"===t.type})},weapons:function(){return this.craftableItems.filter(function(t){return"weapon"===t.type})}},methods:{craft:function(t){var e=this;t.items.forEach(function(t){e.$store.commit("removeInventory",{item:t})}),this.$store.commit("addInventory",{item:t})}}}},166:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(397),i=o(a),r=n(402),s=o(r);e.default={name:"inventory",data:function(){return{order:"asc",key:"dateAdded"}},computed:{orderedList:function(){return i.default.orderBy(this.$store.state.inventory,this.key,this.order)}},components:{list:s.default}}},167:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(59),i=o(a),r=n(58),s=n(405),u=o(s),c=n(406),d=o(c),f=n(407),l=o(f),m=n(408),v=o(m);e.default={name:"main",data:function(){return{navMenu:["Actions","Inventory","Crafting"]}},components:{Actions:d.default,Crafting:l.default,Inventory:v.default,Stats:u.default},computed:(0,i.default)({},(0,r.mapState)(["disabled","gameOver"])),methods:{newGame:function(){window.location.reload()}}}},168:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{id:"meat-cooked",type:"food",name:"Cooked meat",items:["raw-meat"],value:20,risk:0},{id:"water-clean",type:"drink",name:"Clean water",items:["water-dirty"],value:20,risk:0}]},169:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{id:"rope",type:"tool",name:"Rope",items:["string","string","string"]},{id:"bow",type:"weapon",name:"Bow",items:["string","wood"]},{id:"knife",type:"tool",name:"Knife",items:["flint","wood","rope"]},{id:"water-collector",type:"tool",name:"Water collector",items:["plastic","rope"]},{id:"jerky",type:"food",name:"Jerky",items:["meat","salt"],value:20,risk:0}]},170:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{type:"food",id:"berries",name:"Berries",value:5,risk:0,action:"scavenge"},{type:"food",id:"meat",name:"Raw meat",value:20,risk:6,action:"hunt"},{type:"drink",id:"water-dirty",name:"Dirty Water",value:20,risk:6,action:"scavenge"},{type:"junk",id:"salt",name:"Salt",action:"scavenge"},{type:"junk",id:"string",name:"String",action:"scavenge"},{type:"junk",id:"wood",name:"Wood",action:"scavenge"},{type:"junk",id:"plastic",name:"Plastic",action:"scavenge"},{type:"junk",id:"bottle",name:"Empty bottle",action:"scavenge"}]},171:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var a=n(157),i=o(a),r=n(400),s=o(r),u=n(173),c=o(u),d=new i.default(i.default.util.extend({store:c.default},s.default));d.$mount("#app")},172:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(179),i=o(a),r=n(75),s=o(r);e.default={decrease:function(t,e){var n=t.state,o=t.commit,a=e.stat,r=e.amount,s=e.time;return new i.default(function(t,e){o("disable"),n.gameOver?e():setTimeout(function(){o("enable"),o("decrease",{stat:a,amount:r}),t()},s)})},increase:function(t,e){var n=t.state,o=t.commit,a=e.stat,r=e.amount,s=e.time;return new i.default(function(t,e){o("disable"),n.gameOver?e():setTimeout(function(){o("enable"),o("increase",{stat:a,amount:r}),t()},s)})},scavenge:function(t,e){var n=t.state,o=t.commit,a=e.time;return new i.default(function(t,e){o("disable"),n.gameOver?e():setTimeout(function(){var e=n.existingItems.filter(function(t){return"scavenge"===t.action}),a=s.default.randomizeItems(e,3);a.forEach(function(t){o("addInventory",{item:t})}),o("decrease",{stat:"sleep",amount:10}),o("decrease",{stat:"water",amount:5}),o("decrease",{stat:"sleep",amount:3}),o("enable"),t(a)},a)})},hunt:function(t,e){var n=t.state,o=t.commit,a=e.time;return new i.default(function(t,e){o("disable"),n.gameOver?e():setTimeout(function(){var e=n.existingItems.filter(function(t){return"hunt"===t.action}),a=s.default.randomizeItems(e,2);a.forEach(function(t){o("addInventory",{item:t})}),o("decrease",{stat:"sleep",amount:20}),o("decrease",{stat:"water",amount:10}),o("decrease",{stat:"sleep",amount:6}),o("enable"),t(a)},a)})}}},173:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(157),i=o(a),r=n(58),s=o(r),u=n(175),c=o(u),d=n(174),f=o(d),l=n(172),m=o(l);i.default.use(s.default);var v=new s.default.Store({state:c.default,mutations:f.default,actions:m.default});e.default=v},174:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(113),a=function(t,e){return e.findIndex(function(e){return e.id===t})};e.default={decrease:function(t,e){var n=e.stat,o=e.amount;t.stats[n]=t.stats[n]-o,t.stats[n]<=0&&(t.gameOver=!0,t.disabled=!0)},increase:function(t,e){var n=e.stat,a=e.amount;t.stats[n]=t.stats[n]+a,t.stats[n]>o.MAX&&(t.stats[n]=o.MAX)},addInventory:function(t,e){var n=e.item;t.inventory.push(n)},removeInventory:function(t,e){var n=e.item,o=a(n,t.inventory);o!==-1&&t.inventory.splice(o,1)},disable:function(t){t.disabled=!0},enable:function(t){t.disabled=!1}}},175:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(113),i=n(170),r=o(i),s=n(75),u=o(s),c={gameOver:!1,disabled:!1,stats:{water:a.MAX,food:a.MAX,sleep:a.MAX},existingItems:r.default,inventory:u.default.randomizeItems(r.default,2),fire:!1};e.default=c},395:function(t,e){},396:function(t,e){},400:function(t,e,n){var o,a;n(395),o=n(158);var i=n(411);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},401:function(t,e,n){var o,a;o=n(159);var i=n(410);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},402:function(t,e,n){var o,a;o=n(160);var i=n(419);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},403:function(t,e,n){var o,a;o=n(161);var i=n(415);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},404:function(t,e,n){var o,a;o=n(162);var i=n(417);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},405:function(t,e,n){var o,a;o=n(163);var i=n(412);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},406:function(t,e,n){var o,a;o=n(164);var i=n(413);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},407:function(t,e,n){var o,a;o=n(165);var i=n(416);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},408:function(t,e,n){var o,a;o=n(166);var i=n(418);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},409:function(t,e,n){var o,a;n(396),o=n(167);var i=n(414);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},410:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("popover",{attrs:{list:t.actions},on:{clicked:t.doAction}},[t._v("\n  "+t._s(t.item.name)+"\n")])},staticRenderFns:[]}},411:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[t.hasStarted?n("main-component",{on:{newGame:t.start}}):n("section",[n("h1",[t._v("Live")]),t._v(" "),n("p",[t._v("A game about survival")]),t._v(" "),n("button",{on:{click:t.start}},[t._v("New Game")])])],1)},staticRenderFns:[]}},412:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.stats,function(e,o){return n("li",[t._v("\n    "+t._s(o)+" : "+t._s(e)+"\n  ")])}))},staticRenderFns:[]}},413:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.actions,function(e){return n("button",{attrs:{disabled:t.disabled},on:{click:e.method}},[t._v("\n    "+t._s(e.name)+"\n  ")])}),t._v(" "),n("modal",{ref:"modalResult"},[n("div",{slot:"body"},[t._v("\n      You got "+t._s(t.lastActionResult)+"\n    ")])]),t._v(" "),n("modal",{ref:"modalAction",attrs:{isCloseable:!1}},[n("div",{slot:"body"},[t._v("\n      "+t._s(t.currentAction)+"\n    ")])])],2)},staticRenderFns:[]}},414:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[this.gameOver?n("div",[n("h1",[t._v("GAME OVER")]),t._v(" "),n("button",{attrs:{type:"button"},on:{click:function(e){t.newGame()}}},[t._v("Start over")])]):t._e(),t._v(" "),this.gameOver?t._e():n("div",{staticClass:"inventory"},[n("div",[n("stats"),t._v(" "),n("actions")],1),t._v(" "),n("inventory"),t._v(" "),n("crafting")],1)])},staticRenderFns:[]}},415:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",[n("div",[n("header",[t._t("header")],2),t._v(" "),n("section",[t._t("body")],2),t._v(" "),n("footer",[t.isCloseable?n("button",{attrs:{type:"button"},on:{click:function(e){t.close()}}},[t._v("\n        "+t._s(t.closeText)+"\n      ")]):t._e(),t._v(" "),t._t("actions")],2)])]):t._e()},staticRenderFns:[]}},416:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("WEAPONS")]),t._v(" "),n("ul",t._l(t.weapons,function(e){return n("li",[t._v("\n      "+t._s(e.name)+"\n      "),n("div",[t._v("\n        Items needed:\n        "+t._s(e.items.join(", "))+"\n      ")]),t._v(" "),n("button",{attrs:{type:"button",disabled:!e.isCraftable},on:{click:function(n){t.craft(e)}}},[t._v("\n        Craft\n      ")])])})),t._v(" "),n("h2",[t._v("FOOD")]),t._v(" "),n("ul",t._l(t.foodItems,function(e){return n("li",[t._v("\n      "+t._s(e.name)+"\n      "),n("div",[t._v("\n        Items needed:\n        "+t._s(e.items.join(", "))+"\n      ")]),t._v(" "),n("button",{attrs:{type:"button",disabled:!e.isCraftable},on:{click:function(n){t.craft(e)}}},[t._v("\n        Craft\n      ")])])})),t._v(" "),n("h2",[t._v("TOOLS")]),t._v(" "),n("ul",t._l(t.tools,function(e){return n("li",[t._v("\n      "+t._s(e.name)+"\n      "),n("div",[t._v("\n        Items needed:\n        "+t._s(e.items.join(", "))+"\n      ")]),t._v(" "),n("button",{attrs:{type:"button",disabled:!e.isCraftable},on:{click:function(n){t.craft(e)}}},[t._v("\n        Craft\n      ")])])}))])},staticRenderFns:[]}},417:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default"),t._v(" "),n("div",[n("ul",t._l(t.list,function(e){return n("li",[n("button",{on:{click:function(n){t.$emit("clicked",e)}}},[t._v(t._s(e))])])}))])],2)},staticRenderFns:[]}},418:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h2",[t._v("Inventory")]),t._v(" "),n("list",{attrs:{list:t.orderedList}})],1)},staticRenderFns:[]}},419:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.list,function(t){return n("li",[n("consume",{attrs:{item:t}})],1)}))},staticRenderFns:[]}}});
//# sourceMappingURL=app.af73ba676c46a5bc0c94.js.map